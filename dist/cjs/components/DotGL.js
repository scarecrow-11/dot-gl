"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),t=require("react-redux"),a=require("react-map-gl"),r=require("@deck.gl/react"),o=require("../reducers/mapStateReducer.js");function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=i(e);const p=require("prop-types");class u extends n.default.PureComponent{_onViewStateChange=({viewState:e,oldViewState:t})=>{const{dispatch:a}=this.props,r={longitude:e?.longitude??t?.longitude??0,latitude:e?.latitude??t?.latitude??0,zoom:e?.zoom??t?.zoom??0,pitch:e?.pitch??t?.pitch??0,bearing:e?.bearing??t?.bearing??0};a(o.updateMapState(r))};render(){const{mapStyle:e,mapState:t}=this.props;return n.default.createElement(r.DeckGL,{viewState:t,controller:!0,onViewStateChange:this._onViewStateChange},n.default.createElement(a.StaticMap,{mapStyle:e}))}}u.propTypes={mapStyle:p.oneOfType([p.string,p.object]),getRootState:p.func.isRequired,mapState:p.shape({longitude:p.number,latitude:p.number,zoom:p.number,pitch:p.number,bearing:p.number}),dispatch:p.func},u.defaultProps={mapStyle:"https://demotiles.maplibre.org/style.json",getRootState:e=>e?.dotGl??{},mapState:{longitude:0,latitude:0,zoom:10,pitch:0,bearing:0},dispatch:()=>null};const l=t.connect(((e,t)=>({mapState:t.getRootState(e)?.mapState??{}})),(e=>({dispatch:e})))(u);exports.DotGL=l;
