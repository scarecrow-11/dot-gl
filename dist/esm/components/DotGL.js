import t from"react";import{connect as e}from"react-redux";import{StaticMap as a}from"react-map-gl";import{DeckGL as o}from"@deck.gl/react";import{updateMapState as r}from"../reducers/mapStateReducer.js";const p=require("prop-types");class m extends t.PureComponent{_onViewStateChange=({viewState:t})=>{const{dispatch:e}=this.props;e(r(t))};render(){const{mapStyle:e,mapState:r}=this.props;return t.createElement(o,{viewState:r,controller:!0,onViewStateChange:this._onViewStateChange},t.createElement(a,{mapStyle:e}))}}m.propTypes={mapStyle:p.oneOfType([p.string,p.object]),getRootState:p.func,mapState:p.shape({longitude:p.number,latitude:p.number,zoom:p.number,pitch:p.number,bearing:p.number}),dispatch:p.func},m.defaultProps={mapStyle:"https://demotiles.maplibre.org/style.json",getRootState:t=>t?.dotGl??{},mapState:{longitude:0,latitude:0,zoom:10,pitch:0,bearing:0},dispatch:()=>null};const n=e(((t,e)=>({mapState:e?.getRootState?e.getRootState(t)?.mapState??{}:{}})),(t=>({dispatch:t})))(m);export{n as DotGL};
